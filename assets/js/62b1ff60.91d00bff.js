"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[45941],{919989:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>b,contentTitle:()=>f,default:()=>w,frontMatter:()=>y,metadata:()=>g,toc:()=>k});var a=i(487462),n=(i(667294),i(603905)),s=i(258219),r=(i(162316),i(580667)),l=i.n(r),o=i(524228),c=i.n(o),d=i(909487),u=(i(241429),i(905397)),p=i(504667),h=i(809472),m=i(685162);const y={id:"auth-client-controller-create-new-auth-client-22",title:"Create new auth client",description:"Creates a new auth client.",sidebar_label:"Create new auth client",hide_title:!0,hide_table_of_contents:!0,api:{operationId:"AuthClientController_createNewAuthClient_22",description:"Creates a new auth client.\n\nRedirect urls defaults to empty list.\nIf no redirectURLs are specified the client will be unusable until they are updated.\nIf `requiresSecret` is `true`, authorization as this client won't work until a client secret is added\n(see POST /login/client/:id/clientSecret).\n\nNeeds admin persmissions.",parameters:[],requestBody:{required:!0,content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name to set for the auth client.\n\nMust be non empty"},redirectUrls:{description:"A list of url strings containing at least one url.\nThese are the URLs the oauth autorize endpoint will redirect back to\n\nDefaults to `[]` on create",example:["https://example.com/oauth/callback?query=value"],type:"array",items:{type:"string"}},isValid:{type:"boolean",description:"If given, sets the validity flag of the auth client.\n\nDefaults to `true` on create",example:!0},requiresSecret:{type:"boolean",description:"If given, setns the need for the client to authenticate using a secret\n\nDefaults to `true` on create",example:!1},validScopes:{type:"array",description:"The list of scopes that this client is allowed to request.\n\nDefaults to `[]` on create",example:["backend"],items:{type:"string",enum:["login","login-register","backend","auth"]}},clientCredentialFlowUser:{type:"string",description:"The user to use as subject for the client credential flow."}},required:["name"],title:"CreateAuthClientInput"}}}},responses:{201:{description:"The auth client that was created",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string",description:"The unique ID of this client",example:"12345678-90ab-cdef-fedc-ab0987654321"},name:{type:"string",description:"The (human readable) name of the auth client to be able to keep track ofit.\n\nDoesn't need to be unique"},redirectUrls:{description:"The list of valid enpoints to redirect the user back to after authentication has finished.\n\nThe actual url to use is given in the authorize request and must be included in this list.\nIf none is given, the first one from this list will be used",example:["https://example.com/oauth/callback?query=value"],type:"array",items:{type:"string"}},isValid:{type:"boolean",description:"If this is `false` the client is not valid and no authorization, token, ... requests from it should be answered.",example:!0},requiresSecret:{type:"boolean",description:"If `true` requesting a token as this client requires the use\nof a client secret accoring to the oauth specification.\n\nIf `false` client secrets can be present and given but are not required",example:!1},validScopes:{description:"The list of scopes that this client is allowed to request.",type:"array",items:{type:"string",enum:["login","login-register","backend","auth"]}},isInternal:{type:"boolean",description:"If this client is editable.\nIf not, the client can not be changed or deleted.",default:!1}},required:["id","name","redirectUrls","isValid","requiresSecret","validScopes","isInternal"],title:"AuthClient"}}}}},400:{description:"If the input data didn't match the schema"}},tags:["login-api"],security:[{bearer:[]}],method:"post",path:"/auth/api/login/client",servers:[],securitySchemes:{oauth2:{type:"oauth2",flows:{},description:"Access token provided by running the oauth flow (and if needed) registering/linking",bearerFormat:"JWT"},bearer:{scheme:"bearer",bearerFormat:"JWT",type:"apiKey",description:"Access token provided after running the oauth flow (and if needed registering/linking)"},api_key:{type:"apiKey",in:"header",name:"sync-api",description:"Secret Text shared between sync services and login service"}},jsonRequestBodyExample:{name:"string",redirectUrls:["https://example.com/oauth/callback?query=value"],isValid:!0,requiresSecret:!1,validScopes:["backend"],clientCredentialFlowUser:"string"},info:{title:"Gropius Login Service",description:"API for login, registration and linking Gropius accounts to accounts on IMSs",version:"1.0.0",contact:{}},postman:{name:"Create new auth client",description:{content:"Creates a new auth client.\n\nRedirect urls defaults to empty list.\nIf no redirectURLs are specified the client will be unusable until they are updated.\nIf `requiresSecret` is `true`, authorization as this client won't work until a client secret is added\n(see POST /login/client/:id/clientSecret).\n\nNeeds admin persmissions.",type:"text/plain"},url:{path:["auth","api","login","client"],host:["{{baseUrl}}"],query:[],variable:[]},header:[{key:"Content-Type",value:"application/json"},{key:"Accept",value:"application/json"}],method:"POST",body:{mode:"raw",raw:'""',options:{raw:{language:"json"}}},auth:{type:"apikey",apikey:[{type:"any",value:"<API Key Name>",key:"key"},{type:"any",value:"<API Key>",key:"value"},{type:"any",value:"header",key:"in"}]}}},sidebar_class_name:"post api-method",info_path:"login-service/gropius-login-service",custom_edit_url:null},f=void 0,g={unversionedId:"login-service/auth-client-controller-create-new-auth-client-22",id:"login-service/auth-client-controller-create-new-auth-client-22",title:"Create new auth client",description:"Creates a new auth client.",source:"@site/rest-docs/login-service/auth-client-controller-create-new-auth-client-22.api.mdx",sourceDirName:"login-service",slug:"/login-service/auth-client-controller-create-new-auth-client-22",permalink:"/gropius-docs/rest/login-service/auth-client-controller-create-new-auth-client-22",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"auth-client-controller-create-new-auth-client-22",title:"Create new auth client",description:"Creates a new auth client.",sidebar_label:"Create new auth client",hide_title:!0,hide_table_of_contents:!0,api:{operationId:"AuthClientController_createNewAuthClient_22",description:"Creates a new auth client.\n\nRedirect urls defaults to empty list.\nIf no redirectURLs are specified the client will be unusable until they are updated.\nIf `requiresSecret` is `true`, authorization as this client won't work until a client secret is added\n(see POST /login/client/:id/clientSecret).\n\nNeeds admin persmissions.",parameters:[],requestBody:{required:!0,content:{"application/json":{schema:{type:"object",properties:{name:{type:"string",description:"The name to set for the auth client.\n\nMust be non empty"},redirectUrls:{description:"A list of url strings containing at least one url.\nThese are the URLs the oauth autorize endpoint will redirect back to\n\nDefaults to `[]` on create",example:["https://example.com/oauth/callback?query=value"],type:"array",items:{type:"string"}},isValid:{type:"boolean",description:"If given, sets the validity flag of the auth client.\n\nDefaults to `true` on create",example:!0},requiresSecret:{type:"boolean",description:"If given, setns the need for the client to authenticate using a secret\n\nDefaults to `true` on create",example:!1},validScopes:{type:"array",description:"The list of scopes that this client is allowed to request.\n\nDefaults to `[]` on create",example:["backend"],items:{type:"string",enum:["login","login-register","backend","auth"]}},clientCredentialFlowUser:{type:"string",description:"The user to use as subject for the client credential flow."}},required:["name"],title:"CreateAuthClientInput"}}}},responses:{201:{description:"The auth client that was created",content:{"application/json":{schema:{type:"array",items:{type:"object",properties:{id:{type:"string",description:"The unique ID of this client",example:"12345678-90ab-cdef-fedc-ab0987654321"},name:{type:"string",description:"The (human readable) name of the auth client to be able to keep track ofit.\n\nDoesn't need to be unique"},redirectUrls:{description:"The list of valid enpoints to redirect the user back to after authentication has finished.\n\nThe actual url to use is given in the authorize request and must be included in this list.\nIf none is given, the first one from this list will be used",example:["https://example.com/oauth/callback?query=value"],type:"array",items:{type:"string"}},isValid:{type:"boolean",description:"If this is `false` the client is not valid and no authorization, token, ... requests from it should be answered.",example:!0},requiresSecret:{type:"boolean",description:"If `true` requesting a token as this client requires the use\nof a client secret accoring to the oauth specification.\n\nIf `false` client secrets can be present and given but are not required",example:!1},validScopes:{description:"The list of scopes that this client is allowed to request.",type:"array",items:{type:"string",enum:["login","login-register","backend","auth"]}},isInternal:{type:"boolean",description:"If this client is editable.\nIf not, the client can not be changed or deleted.",default:!1}},required:["id","name","redirectUrls","isValid","requiresSecret","validScopes","isInternal"],title:"AuthClient"}}}}},400:{description:"If the input data didn't match the schema"}},tags:["login-api"],security:[{bearer:[]}],method:"post",path:"/auth/api/login/client",servers:[],securitySchemes:{oauth2:{type:"oauth2",flows:{},description:"Access token provided by running the oauth flow (and if needed) registering/linking",bearerFormat:"JWT"},bearer:{scheme:"bearer",bearerFormat:"JWT",type:"apiKey",description:"Access token provided after running the oauth flow (and if needed registering/linking)"},api_key:{type:"apiKey",in:"header",name:"sync-api",description:"Secret Text shared between sync services and login service"}},jsonRequestBodyExample:{name:"string",redirectUrls:["https://example.com/oauth/callback?query=value"],isValid:!0,requiresSecret:!1,validScopes:["backend"],clientCredentialFlowUser:"string"},info:{title:"Gropius Login Service",description:"API for login, registration and linking Gropius accounts to accounts on IMSs",version:"1.0.0",contact:{}},postman:{name:"Create new auth client",description:{content:"Creates a new auth client.\n\nRedirect urls defaults to empty list.\nIf no redirectURLs are specified the client will be unusable until they are updated.\nIf `requiresSecret` is `true`, authorization as this client won't work until a client secret is added\n(see POST /login/client/:id/clientSecret).\n\nNeeds admin persmissions.",type:"text/plain"},url:{path:["auth","api","login","client"],host:["{{baseUrl}}"],query:[],variable:[]},header:[{key:"Content-Type",value:"application/json"},{key:"Accept",value:"application/json"}],method:"POST",body:{mode:"raw",raw:'""',options:{raw:{language:"json"}}},auth:{type:"apikey",apikey:[{type:"any",value:"<API Key Name>",key:"key"},{type:"any",value:"<API Key>",key:"value"},{type:"any",value:"header",key:"in"}]}}},sidebar_class_name:"post api-method",info_path:"login-service/gropius-login-service",custom_edit_url:null},sidebar:"restSidebar",previous:{title:"List all existing auth clients.",permalink:"/gropius-docs/rest/login-service/auth-client-controller-list-all-auth-clients-20"},next:{title:"Details of one auth client (incl. censored secrets)",permalink:"/gropius-docs/rest/login-service/auth-client-controller-get-one-auth-client-21"}},b={},k=[{value:"Request",id:"request",level:2}],v={toc:k},q="wrapper";function w(e){let{components:t,...i}=e;return(0,n.kt)(q,(0,a.Z)({},v,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{className:"openapi__heading"},"Create new auth client"),(0,n.kt)(l(),{method:"post",path:"/auth/api/login/client",mdxType:"MethodEndpoint"}),(0,n.kt)(c(),{infoPath:"login-service/gropius-login-service",mdxType:"SecuritySchemes"}),(0,n.kt)("p",null,"Creates a new auth client."),(0,n.kt)("p",null,"Redirect urls defaults to empty list.\nIf no redirectURLs are specified the client will be unusable until they are updated.\nIf ",(0,n.kt)("inlineCode",{parentName:"p"},"requiresSecret")," is ",(0,n.kt)("inlineCode",{parentName:"p"},"true"),", authorization as this client won't work until a client secret is added\n(see POST /login/client/:id/clientSecret)."),(0,n.kt)("p",null,"Needs admin persmissions."),(0,n.kt)("h2",{id:"request"},"Request"),(0,n.kt)(d.Z,{className:"openapi-tabs__mime",mdxType:"MimeTabs"},(0,n.kt)(m.default,{label:"application/json",value:"application/json-schema",mdxType:"TabItem"},(0,n.kt)("details",{style:{},className:"openapi-markdown__details mime","data-collapsed":!1,open:!0},(0,n.kt)("summary",{style:{},className:"openapi-markdown__details-summary-mime"},(0,n.kt)("h3",{className:"openapi-markdown__details-summary-header-body"},"Body"),(0,n.kt)("strong",{className:"openapi-schema__required"},"required")),(0,n.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,n.kt)("ul",{style:{marginLeft:"1rem"}},(0,n.kt)(p.Z,{collapsible:!1,name:"name",required:!0,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"The name to set for the auth client.\n\nMust be non empty"},mdxType:"SchemaItem"}),(0,n.kt)(p.Z,{collapsible:!1,name:"redirectUrls",required:!1,schemaName:"string[]",qualifierMessage:void 0,schema:{description:"A list of url strings containing at least one url.\nThese are the URLs the oauth autorize endpoint will redirect back to\n\nDefaults to `[]` on create",example:["https://example.com/oauth/callback?query=value"],type:"array",items:{type:"string"}},mdxType:"SchemaItem"}),(0,n.kt)(p.Z,{collapsible:!1,name:"isValid",required:!1,schemaName:"boolean",qualifierMessage:void 0,schema:{type:"boolean",description:"If given, sets the validity flag of the auth client.\n\nDefaults to `true` on create",example:!0},mdxType:"SchemaItem"}),(0,n.kt)(p.Z,{collapsible:!1,name:"requiresSecret",required:!1,schemaName:"boolean",qualifierMessage:void 0,schema:{type:"boolean",description:"If given, setns the need for the client to authenticate using a secret\n\nDefaults to `true` on create",example:!1},mdxType:"SchemaItem"}),(0,n.kt)(p.Z,{collapsible:!1,name:"validScopes",required:!1,schemaName:"string[]",qualifierMessage:"**Possible values:** [`login`, `login-register`, `backend`, `auth`]",schema:{type:"array",description:"The list of scopes that this client is allowed to request.\n\nDefaults to `[]` on create",example:["backend"],items:{type:"string",enum:["login","login-register","backend","auth"]}},mdxType:"SchemaItem"}),(0,n.kt)(p.Z,{collapsible:!1,name:"clientCredentialFlowUser",required:!1,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"The user to use as subject for the client credential flow."},mdxType:"SchemaItem"}))))),(0,n.kt)("div",null,(0,n.kt)("div",null,(0,n.kt)(s.Z,{mdxType:"ApiTabs"},(0,n.kt)(m.default,{label:"201",value:"201",mdxType:"TabItem"},(0,n.kt)("div",null,(0,n.kt)("p",null,"The auth client that was created")),(0,n.kt)("div",null,(0,n.kt)(d.Z,{className:"openapi-tabs__mime",schemaType:"response",mdxType:"MimeTabs"},(0,n.kt)(m.default,{label:"application/json",value:"application/json",mdxType:"TabItem"},(0,n.kt)(h.default,{className:"openapi-tabs__schema",mdxType:"SchemaTabs"},(0,n.kt)(m.default,{label:"Schema",value:"Schema",mdxType:"TabItem"},(0,n.kt)("details",{style:{},className:"openapi-markdown__details response","data-collapsed":!1,open:!0},(0,n.kt)("summary",{style:{},className:"openapi-markdown__details-summary-response"},(0,n.kt)("strong",null,"Schema")),(0,n.kt)("div",{style:{textAlign:"left",marginLeft:"1rem"}}),(0,n.kt)("ul",{style:{marginLeft:"1rem"}},(0,n.kt)("li",null,(0,n.kt)("div",{style:{fontSize:"var(--ifm-code-font-size)",opacity:"0.6",marginLeft:"-.5rem",paddingBottom:".5rem"}},"Array [")),(0,n.kt)(p.Z,{collapsible:!1,name:"id",required:!0,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"The unique ID of this client",example:"12345678-90ab-cdef-fedc-ab0987654321"},mdxType:"SchemaItem"}),(0,n.kt)(p.Z,{collapsible:!1,name:"name",required:!0,schemaName:"string",qualifierMessage:void 0,schema:{type:"string",description:"The (human readable) name of the auth client to be able to keep track ofit.\n\nDoesn't need to be unique"},mdxType:"SchemaItem"}),(0,n.kt)(p.Z,{collapsible:!1,name:"redirectUrls",required:!0,schemaName:"string[]",qualifierMessage:void 0,schema:{description:"The list of valid enpoints to redirect the user back to after authentication has finished.\n\nThe actual url to use is given in the authorize request and must be included in this list.\nIf none is given, the first one from this list will be used",example:["https://example.com/oauth/callback?query=value"],type:"array",items:{type:"string"}},mdxType:"SchemaItem"}),(0,n.kt)(p.Z,{collapsible:!1,name:"isValid",required:!0,schemaName:"boolean",qualifierMessage:void 0,schema:{type:"boolean",description:"If this is `false` the client is not valid and no authorization, token, ... requests from it should be answered.",example:!0},mdxType:"SchemaItem"}),(0,n.kt)(p.Z,{collapsible:!1,name:"requiresSecret",required:!0,schemaName:"boolean",qualifierMessage:void 0,schema:{type:"boolean",description:"If `true` requesting a token as this client requires the use\nof a client secret accoring to the oauth specification.\n\nIf `false` client secrets can be present and given but are not required",example:!1},mdxType:"SchemaItem"}),(0,n.kt)(p.Z,{collapsible:!1,name:"validScopes",required:!0,schemaName:"string[]",qualifierMessage:"**Possible values:** [`login`, `login-register`, `backend`, `auth`]",schema:{description:"The list of scopes that this client is allowed to request.",type:"array",items:{type:"string",enum:["login","login-register","backend","auth"]}},mdxType:"SchemaItem"}),(0,n.kt)(p.Z,{collapsible:!1,name:"isInternal",required:!0,schemaName:"boolean",qualifierMessage:void 0,schema:{type:"boolean",description:"If this client is editable.\nIf not, the client can not be changed or deleted.",default:!1},mdxType:"SchemaItem"}),(0,n.kt)("li",null,(0,n.kt)("div",{style:{fontSize:"var(--ifm-code-font-size)",opacity:"0.6",marginLeft:"-.5rem"}},"]"))))),(0,n.kt)(m.default,{label:"Example (from schema)",value:"Example (from schema)",mdxType:"TabItem"},(0,n.kt)(u.Z,{responseExample:'[\n  {\n    "id": "12345678-90ab-cdef-fedc-ab0987654321",\n    "name": "string",\n    "redirectUrls": [\n      "https://example.com/oauth/callback?query=value"\n    ],\n    "isValid": true,\n    "requiresSecret": false,\n    "validScopes": [\n      "login"\n    ],\n    "isInternal": false\n  }\n]',language:"json",mdxType:"ResponseSamples"}))))))),(0,n.kt)(m.default,{label:"400",value:"400",mdxType:"TabItem"},(0,n.kt)("div",null,(0,n.kt)("p",null,"If the input data didn't match the schema")),(0,n.kt)("div",null))))))}w.isMDXComponent=!0}}]);