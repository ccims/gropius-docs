"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[11515],{928945:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>k,frontMatter:()=>r,metadata:()=>l,toc:()=>d});var n=i(487462),a=(i(667294),i(603905));const r={id:"backend_services_backend_user_service.BackendUserService",title:"Class: BackendUserService",sidebar_label:"BackendUserService",custom_edit_url:null},s=void 0,l={unversionedId:"login-service-api/classes/backend_services_backend_user_service.BackendUserService",id:"login-service-api/classes/backend_services_backend_user_service.BackendUserService",title:"Class: BackendUserService",description:"backend-services/backend-user.service.BackendUserService",source:"@site/docs/login-service-api/classes/backend_services_backend_user_service.BackendUserService.md",sourceDirName:"login-service-api/classes",slug:"/login-service-api/classes/backend_services_backend_user_service.BackendUserService",permalink:"/gropius-docs/login-service-api/classes/backend_services_backend_user_service.BackendUserService",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"backend_services_backend_user_service.BackendUserService",title:"Class: BackendUserService",sidebar_label:"BackendUserService",custom_edit_url:null},sidebar:"apiSidebar",previous:{title:"BackendServicesModule",permalink:"/gropius-docs/login-service-api/classes/backend_services_backend_services_module.BackendServicesModule"},next:{title:"ImsUserFindingService",permalink:"/gropius-docs/login-service-api/classes/backend_services_ims_user_finding_service.ImsUserFindingService"}},o={},d=[{value:"Constructors",id:"constructors",level:2},{value:"constructor",id:"constructor",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"Properties",id:"properties",level:2},{value:"activeLoginService",id:"activeloginservice",level:3},{value:"Defined in",id:"defined-in-1",level:4},{value:"graphqlService",id:"graphqlservice",level:3},{value:"Defined in",id:"defined-in-2",level:4},{value:"logger",id:"logger",level:3},{value:"Defined in",id:"defined-in-3",level:4},{value:"loginUserService",id:"loginuserservice",level:3},{value:"Defined in",id:"defined-in-4",level:4},{value:"userLoginDataService",id:"userlogindataservice",level:3},{value:"Defined in",id:"defined-in-5",level:4},{value:"userService",id:"userservice",level:3},{value:"Defined in",id:"defined-in-6",level:4},{value:"Methods",id:"methods",level:2},{value:"checkIsUserAdmin",id:"checkisuseradmin",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns",level:4},{value:"Defined in",id:"defined-in-7",level:4},{value:"checkUserExists",id:"checkuserexists",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-1",level:4},{value:"Defined in",id:"defined-in-8",level:4},{value:"createLoginUserForExistingBackendUser",id:"createloginuserforexistingbackenduser",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-2",level:4},{value:"Defined in",id:"defined-in-9",level:4},{value:"createNewUser",id:"createnewuser",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"Returns",id:"returns-3",level:4},{value:"Defined in",id:"defined-in-10",level:4},{value:"getAllGropiusUsersInBackend",id:"getallgropiususersinbackend",level:3},{value:"Returns",id:"returns-4",level:4},{value:"Defined in",id:"defined-in-11",level:4},{value:"linkAccountToUser",id:"linkaccounttouser",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"Returns",id:"returns-5",level:4},{value:"Defined in",id:"defined-in-12",level:4},{value:"linkAllImsUsersToGropiusUser",id:"linkallimsuserstogropiususer",level:3},{value:"Parameters",id:"parameters-6",level:4},{value:"Returns",id:"returns-6",level:4},{value:"Defined in",id:"defined-in-13",level:4},{value:"linkOneImsUserToGropiusUser",id:"linkoneimsusertogropiususer",level:3},{value:"Parameters",id:"parameters-7",level:4},{value:"Returns",id:"returns-7",level:4},{value:"Defined in",id:"defined-in-14",level:4}],c={toc:d},p="wrapper";function k(e){let{components:t,...i}=e;return(0,a.kt)(p,(0,n.Z)({},c,i,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/modules/backend_services_backend_user_service"},"backend-services/backend-user.service"),".BackendUserService"),(0,a.kt)("h2",{id:"constructors"},"Constructors"),(0,a.kt)("h3",{id:"constructor"},"constructor"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("strong",{parentName:"p"},"new BackendUserService"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"graphqlService"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"loginUserService"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"userService"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"activeLoginService"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"userLoginDataService"),")"),(0,a.kt)("h4",{id:"parameters"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"graphqlService")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_graphql_graphql_service.GraphqlService"},(0,a.kt)("inlineCode",{parentName:"a"},"GraphqlService")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"loginUserService")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_services_login_user_service.LoginUserService"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUserService")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"userService")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_services_login_user_service.LoginUserService"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUserService")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"activeLoginService")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_services_active_login_service.ActiveLoginService"},(0,a.kt)("inlineCode",{parentName:"a"},"ActiveLoginService")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"userLoginDataService")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_services_user_login_data_service.UserLoginDataService"},(0,a.kt)("inlineCode",{parentName:"a"},"UserLoginDataService")))))),(0,a.kt)("h4",{id:"defined-in"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L20"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:20")),(0,a.kt)("h2",{id:"properties"},"Properties"),(0,a.kt)("h3",{id:"activeloginservice"},"activeLoginService"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,a.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,a.kt)("strong",{parentName:"p"},"activeLoginService"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_services_active_login_service.ActiveLoginService"},(0,a.kt)("inlineCode",{parentName:"a"},"ActiveLoginService"))),(0,a.kt)("h4",{id:"defined-in-1"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L24"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:24")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"graphqlservice"},"graphqlService"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,a.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,a.kt)("strong",{parentName:"p"},"graphqlService"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_graphql_graphql_service.GraphqlService"},(0,a.kt)("inlineCode",{parentName:"a"},"GraphqlService"))),(0,a.kt)("h4",{id:"defined-in-2"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L21"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:21")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"logger"},"logger"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,a.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,a.kt)("strong",{parentName:"p"},"logger"),": ",(0,a.kt)("inlineCode",{parentName:"p"},"Logger")),(0,a.kt)("h4",{id:"defined-in-3"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L19"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:19")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"loginuserservice"},"loginUserService"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,a.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,a.kt)("strong",{parentName:"p"},"loginUserService"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_services_login_user_service.LoginUserService"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUserService"))),(0,a.kt)("h4",{id:"defined-in-4"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L22"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:22")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"userlogindataservice"},"userLoginDataService"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,a.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,a.kt)("strong",{parentName:"p"},"userLoginDataService"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_services_user_login_data_service.UserLoginDataService"},(0,a.kt)("inlineCode",{parentName:"a"},"UserLoginDataService"))),(0,a.kt)("h4",{id:"defined-in-5"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L25"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:25")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"userservice"},"userService"),(0,a.kt)("p",null,"\u2022 ",(0,a.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,a.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,a.kt)("strong",{parentName:"p"},"userService"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_services_login_user_service.LoginUserService"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUserService"))),(0,a.kt)("h4",{id:"defined-in-6"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L23"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:23")),(0,a.kt)("h2",{id:"methods"},"Methods"),(0,a.kt)("h3",{id:"checkisuseradmin"},"checkIsUserAdmin"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"checkIsUserAdmin"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"user"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"boolean"),">"),(0,a.kt)("p",null,"Checks if the user may access admin actions."),(0,a.kt)("p",null,"Calls the backend API to retrieve the information."),(0,a.kt)("p",null,"Potential optimation if performance is a problem: Cache admin state for one login session (activeLogin)"),(0,a.kt)("h4",{id:"parameters-1"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"user")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser"))),(0,a.kt)("td",{parentName:"tr",align:"left"},"The user for which to check admin permissions")))),(0,a.kt)("h4",{id:"returns"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"boolean"),">"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"true")," if the user is allowed to access admin actions, ",(0,a.kt)("inlineCode",{parentName:"p"},"false")," if not"),(0,a.kt)("h4",{id:"defined-in-7"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L38"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:38")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"checkuserexists"},"checkUserExists"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"checkUserExists"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"user"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"boolean"),">"),(0,a.kt)("p",null,"Checks for the existance of a GropiusUser with the neo4jid specified in the given LoginUser"),(0,a.kt)("p",null,"Meant to check database consistency. For a properly created LoginUser this should always return true"),(0,a.kt)("h4",{id:"parameters-2"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"user")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser"))),(0,a.kt)("td",{parentName:"tr",align:"left"},"The LoginUser to check in the backend")))),(0,a.kt)("h4",{id:"returns-1"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"boolean"),">"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"true")," iff the LoginUser has a valid associated GropiusUser in the backend"),(0,a.kt)("h4",{id:"defined-in-8"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L62"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:62")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"createloginuserforexistingbackenduser"},"createLoginUserForExistingBackendUser"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"createLoginUserForExistingBackendUser"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"neo4jId"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser")),">"),(0,a.kt)("p",null,"Fetches the user date (username, ...) of the user fron the backend and creates a LoginUser for it"),(0,a.kt)("p",null,"Meant to be used in case of database inconsistency as usually both users should be created simultaneously"),(0,a.kt)("h4",{id:"parameters-3"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"neo4jId")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"string")),(0,a.kt)("td",{parentName:"tr",align:"left"},"The bakcend neo4j id of the GropiusUser to create a LoginUser for")))),(0,a.kt)("h4",{id:"returns-2"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser")),">"),(0,a.kt)("p",null,"The created LoginUser instance"),(0,a.kt)("h4",{id:"defined-in-9"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L119"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:119")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"createnewuser"},"createNewUser"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"createNewUser"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"input"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"isAdmin"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser")),">"),(0,a.kt)("h4",{id:"parameters-4"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"input")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/interfaces/backend_services_backend_user_service.CreateUserInput"},(0,a.kt)("inlineCode",{parentName:"a"},"CreateUserInput")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"isAdmin")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"boolean"))))),(0,a.kt)("h4",{id:"returns-3"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser")),">"),(0,a.kt)("h4",{id:"defined-in-10"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L84"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:84")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"getallgropiususersinbackend"},"getAllGropiusUsersInBackend"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"getAllGropiusUsersInBackend"),"(): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"string"),"[]",">"),(0,a.kt)("p",null,"Fetches all backend ids of all existing GropiusUsers in the backend"),(0,a.kt)("h4",{id:"returns-4"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"string"),"[]",">"),(0,a.kt)("h4",{id:"defined-in-11"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L76"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:76")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"linkaccounttouser"},"linkAccountToUser"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"linkAccountToUser"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"userToLinkTo"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"loginData"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"activeLogin"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<{ ",(0,a.kt)("inlineCode",{parentName:"p"},"loggedInUser"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser"))," ; ",(0,a.kt)("inlineCode",{parentName:"p"},"loginData"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_postgres_UserLoginData_entity.UserLoginData"},(0,a.kt)("inlineCode",{parentName:"a"},"UserLoginData")),"  }",">"),(0,a.kt)("p",null,"Helper function performing tha actual linking of login data with user."),(0,a.kt)("p",null,"If the given login data already has a user set, the user must match the given one,\nelse a INTERNAL_SERVER_ERROR is raised."),(0,a.kt)("p",null,"The expiration of the loginData will be removed.\nThe expiration of the activeLogin will be set to the default login expiration time,\nexcept if the strategy supports sync, then the active login will never expire.\nThe state of the loginData will be updated to VALID if it was WAITING_FOR_REGISER before"),(0,a.kt)("h4",{id:"parameters-5"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"userToLinkTo")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser"))),(0,a.kt)("td",{parentName:"tr",align:"left"},"The user account to link the new authentication to")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"loginData")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_postgres_UserLoginData_entity.UserLoginData"},(0,a.kt)("inlineCode",{parentName:"a"},"UserLoginData"))),(0,a.kt)("td",{parentName:"tr",align:"left"},"The new authentication to link to the user")),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"activeLogin")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_postgres_ActiveLogin_entity.ActiveLogin"},(0,a.kt)("inlineCode",{parentName:"a"},"ActiveLogin"))),(0,a.kt)("td",{parentName:"tr",align:"left"},"The active login that was created during the authentication flow")))),(0,a.kt)("h4",{id:"returns-5"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<{ ",(0,a.kt)("inlineCode",{parentName:"p"},"loggedInUser"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser"))," ; ",(0,a.kt)("inlineCode",{parentName:"p"},"loginData"),": ",(0,a.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_postgres_UserLoginData_entity.UserLoginData"},(0,a.kt)("inlineCode",{parentName:"a"},"UserLoginData")),"  }",">"),(0,a.kt)("p",null,"The saved and updated user and login data after linking"),(0,a.kt)("h4",{id:"defined-in-12"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L194"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:194")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"linkallimsuserstogropiususer"},"linkAllImsUsersToGropiusUser"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"linkAllImsUsersToGropiusUser"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"loginUser"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"loginData"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"parameters-6"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"loginUser")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"loginData")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_postgres_UserLoginData_entity.UserLoginData"},(0,a.kt)("inlineCode",{parentName:"a"},"UserLoginData")))))),(0,a.kt)("h4",{id:"returns-6"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-13"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L152"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:152")),(0,a.kt)("hr",null),(0,a.kt)("h3",{id:"linkoneimsusertogropiususer"},"linkOneImsUserToGropiusUser"),(0,a.kt)("p",null,"\u25b8 ",(0,a.kt)("strong",{parentName:"p"},"linkOneImsUserToGropiusUser"),"(",(0,a.kt)("inlineCode",{parentName:"p"},"loginUser"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"imsUser"),"): ",(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"parameters-7"},"Parameters"),(0,a.kt)("table",null,(0,a.kt)("thead",{parentName:"table"},(0,a.kt)("tr",{parentName:"thead"},(0,a.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,a.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,a.kt)("tbody",{parentName:"table"},(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"loginUser")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_postgres_LoginUser_entity.LoginUser"},(0,a.kt)("inlineCode",{parentName:"a"},"LoginUser")))),(0,a.kt)("tr",{parentName:"tbody"},(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("inlineCode",{parentName:"td"},"imsUser")),(0,a.kt)("td",{parentName:"tr",align:"left"},(0,a.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_postgres_UserLoginDataImsUser_entity.UserLoginDataImsUser"},(0,a.kt)("inlineCode",{parentName:"a"},"UserLoginDataImsUser")))))),(0,a.kt)("h4",{id:"returns-7"},"Returns"),(0,a.kt)("p",null,(0,a.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,a.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,a.kt)("h4",{id:"defined-in-14"},"Defined in"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/backend-services/backend-user.service.ts#L138"},"gropius-login-service/backend/src/backend-services/backend-user.service.ts:138")))}k.isMDXComponent=!0}}]);