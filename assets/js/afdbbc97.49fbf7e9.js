"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[98894],{465655:(a,e,s)=>{s.r(e),s.d(e,{assets:()=>d,contentTitle:()=>r,default:()=>v,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var t=s(487462),i=(s(667294),s(603905)),n=s(689417);const p='\n  \n  <div class="cover ">\n    \n  </div>\n  <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-dependent-content" data-active="" data-togglable=":core:dokkaHtmlPartial/main"><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="change-issue-template-"><span class="token function">changeIssueTemplate</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">authorizationContext<span class="token operator">: </span><a href="../../gropius.authorization/-gropius-authorization-context/index-">GropiusAuthorizationContext</a><span class="token punctuation">, </span></span><span class="parameter ">input<span class="token operator">: </span><a href="../../gropius.dto.input.issue/-change-issue-template-input/index-">ChangeIssueTemplateInput</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../../gropius.model.issue.timeline/-template-changed-event/index-">TemplateChangedEvent</a><span class="token operator">?</span></div><p class="paragraph">Changes the template of an <a href="../../gropius.model.issue/-issue/index-">Issue</a>, return the created <a href="../../gropius.model.issue.timeline/-template-changed-event/index-">TemplateChangedEvent</a> or <code class="lang-kotlin">null</code> if the <a href="../../gropius.model.issue/-issue/index-">Issue</a> was already pinned on the <a href="../../gropius.model.architecture/-trackable/index-">Trackable</a>. Checks the authorization status, checks that all inputs are compatible with the new template.</p><span class="kdoc-tag"><h4 class="">Return</h4><p class="paragraph">the saved created <a href="../../gropius.model.issue.timeline/-template-changed-event/index-">TemplateChangedEvent</a> or <code class="lang-kotlin">null</code> if no event was created</p></span><h4 class="">Parameters</h4><div class="table"><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>authorization</span><wbr><span><span>Context</span></span></u></div></span></div><div><div class="title"><p class="paragraph">used to check for the required permission</p></div></div></div></div><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>input</span></span></u></div></span></div><div><div class="title"><p class="paragraph">defines the new <a href="../../gropius.model.template/-issue-template/index-">IssueTemplate</a> and of which <a href="../../gropius.model.issue/-issue/index-">Issue</a> to change it</p></div></div></div></div></div><hr><div class="symbol monospace"><span class="token keyword">suspend </span><span class="token keyword">fun </span><a href="change-issue-template-"><span class="token function">changeIssueTemplate</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">issue<span class="token operator">: </span><a href="../../gropius.model.issue/-issue/index-">Issue</a><span class="token punctuation">, </span></span><span class="parameter ">oldTemplate<span class="token operator">: </span><a href="../../gropius.model.template/-issue-template/index-">IssueTemplate</a><span class="token punctuation">, </span></span><span class="parameter ">newTemplate<span class="token operator">: </span><a href="../../gropius.model.template/-issue-template/index-">IssueTemplate</a><span class="token punctuation">, </span></span><span class="parameter ">templatedFields<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin.collections/-list/index.html">List</a><span class="token operator">&lt;</span><a href="../../gropius.dto.input.common/-j-s-o-n-field-input/index-">JSONFieldInput</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">type<span class="token operator">: </span><a href="../../gropius.model.template/-issue-type/index-">IssueType</a><span class="token operator">?</span><span class="token punctuation">, </span></span><span class="parameter ">state<span class="token operator">: </span><a href="../../gropius.model.template/-issue-state/index-">IssueState</a><span class="token operator">?</span><span class="token punctuation">, </span></span><span class="parameter ">priority<span class="token operator">: </span><a href="../../gropius.model.template/-issue-priority/index-">IssuePriority</a><span class="token operator">?</span><span class="token punctuation">, </span></span><span class="parameter ">assignmentTypeMapping<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin.collections/-map/index.html">Map</a><span class="token operator">&lt;</span><a href="../../gropius.model.template/-assignment-type/index-">AssignmentType</a><span class="token punctuation">, </span><a href="../../gropius.model.template/-assignment-type/index-">AssignmentType</a><span class="token operator">?</span><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">issueRelationTypeMapping<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin-stdlib/kotlin.collections/-map/index.html">Map</a><span class="token operator">&lt;</span><a href="../../gropius.model.template/-issue-relation-type/index-">IssueRelationType</a><span class="token punctuation">, </span><a href="../../gropius.model.template/-issue-relation-type/index-">IssueRelationType</a><span class="token operator">?</span><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">atTime<span class="token operator">: </span><a href="https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html">OffsetDateTime</a><span class="token punctuation">, </span></span><span class="parameter ">byUser<span class="token operator">: </span><a href="../../gropius.model.user/-user/index-">User</a><span class="token punctuation">, </span></span><span class="parameter ">updateContext<span class="token operator">: </span><a href="../../gropius.service/-node-batch-update-context/index-">NodeBatchUpdateContext</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../../gropius.model.issue.timeline/-template-changed-event/index-">TemplateChangedEvent</a></div><p class="paragraph">Changes the template of an <a href="../../gropius.model.issue/-issue/index-">Issue</a>, return the created <a href="../../gropius.model.issue.timeline/-template-changed-event/index-">TemplateChangedEvent</a>. Also creates the <a href="../../gropius.model.issue.timeline/-template-changed-event/index-">TemplateChangedEvent</a> if the template of the issue does not change. Uses <a href="change-issue-template-">templatedFields</a>, <a href="change-issue-template-">type</a>, <a href="change-issue-template-">state</a>, <a href="change-issue-template-">priority</a>, <a href="change-issue-template-">assignmentTypeMapping</a> and <a href="change-issue-template-">issueRelationTypeMapping</a> to enforce compatibility with the new template, however only updates fields which are incompatible with the new template. Does not check the authorization status. Checks that all inputs are compatible with the new template, and checks that the templatedFields are valid after the update.</p><span class="kdoc-tag"><h4 class="">Return</h4><p class="paragraph">the created <a href="../../gropius.model.issue.timeline/-template-changed-event/index-">TemplateChangedEvent</a></p></span><h4 class="">Parameters</h4><div class="table"><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>issue</span></span></u></div></span></div><div><div class="title"><p class="paragraph">the <a href="../../gropius.model.issue/-issue/index-">Issue</a> to update the template of</p></div></div></div></div><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>old</span><wbr><span><span>Template</span></span></u></div></span></div><div><div class="title"><p class="paragraph">the old template of the <a href="change-issue-template-">issue</a></p></div></div></div></div><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>new</span><wbr><span><span>Template</span></span></u></div></span></div><div><div class="title"><p class="paragraph">the new template of the <a href="change-issue-template-">issue</a></p></div></div></div></div><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>templated</span><wbr><span><span>Fields</span></span></u></div></span></div><div><div class="title"><p class="paragraph">values to update incompatible templated fields</p></div></div></div></div><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>type</span></span></u></div></span></div><div><div class="title"><p class="paragraph">new <a href="../../gropius.model.template/-issue-type/index-">IssueType</a> in case existing one is incompatible</p></div></div></div></div><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>state</span></span></u></div></span></div><div><div class="title"><p class="paragraph">new <a href="../../gropius.model.template/-issue-state/index-">IssueState</a> in case existing one is incompatible</p></div></div></div></div><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>priority</span></span></u></div></span></div><div><div class="title"><p class="paragraph">new <a href="../../gropius.model.template/-issue-priority/index-">IssuePriority</a> in case existing one is incompatible</p></div></div></div></div><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>assignment</span><wbr><span>Type</span><wbr><span><span>Mapping</span></span></u></div></span></div><div><div class="title"><p class="paragraph">used to map incompatible <a href="../../gropius.model.template/-assignment-type/index-">AssignmentType</a>s</p></div></div></div></div><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>issue</span><wbr><span>Relation</span><wbr><span>Type</span><wbr><span><span>Mapping</span></span></u></div></span></div><div><div class="title"><p class="paragraph">used to map incompatible <a href="../../gropius.model.template/-issue-relation-type/index-">IssueRelationType</a>s</p></div></div></div></div><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>at</span><wbr><span><span>Time</span></span></u></div></span></div><div><div class="title"><p class="paragraph">the point in time when the modification happened, updates <a href="../../gropius.model.issue/-issue/last-updated-at-">Issue.lastUpdatedAt</a> if necessary</p></div></div></div></div><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>by</span><wbr><span><span>User</span></span></u></div></span></div><div><div class="title"><p class="paragraph">the <a href="../../gropius.model.user/-user/index-">User</a> who caused the update, updates <a href="../../gropius.model.issue/-issue/participants-">Issue.participants</a> if necessary</p></div></div></div></div><div class="table-row" data-filterable-current=":core:dokkaHtmlPartial/main" data-filterable-set=":core:dokkaHtmlPartial/main"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>update</span><wbr><span><span>Context</span></span></u></div></span></div><div><div class="title"><p class="paragraph">context used for the aggregation updater</p></div></div></div></div></div></div></div>\n',l={},r="changeIssueTemplate",o={unversionedId:"api/core/gropius.service.issue/-issue-service/change-issue-template-",id:"api/core/gropius.service.issue/-issue-service/change-issue-template-",title:"changeIssueTemplate",description:"",source:"@site/docs/api/core/gropius.service.issue/-issue-service/change-issue-template-.mdx",sourceDirName:"api/core/gropius.service.issue/-issue-service",slug:"/api/core/gropius.service.issue/-issue-service/change-issue-template-",permalink:"/gropius-docs/api/core/gropius.service.issue/-issue-service/change-issue-template-",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"apiSidebar",previous:{title:"changeIssueState",permalink:"/gropius-docs/api/core/gropius.service.issue/-issue-service/change-issue-state-"},next:{title:"changeIssueTemplatedField",permalink:"/gropius-docs/api/core/gropius.service.issue/-issue-service/change-issue-templated-field-"}},d={},c=[],u={toc:c},m="wrapper";function v(a){let{components:e,...s}=a;return(0,i.kt)(m,(0,t.Z)({},u,s,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"changeissuetemplate"},"changeIssueTemplate"),(0,i.kt)(n.Z,{dokkaHTML:p,mdxType:"DokkaComponent"}))}v.isMDXComponent=!0}}]);