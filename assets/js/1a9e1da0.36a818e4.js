"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[67601],{516464:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>c,contentTitle:()=>s,default:()=>k,frontMatter:()=>r,metadata:()=>l,toc:()=>o});var a=i(487462),n=(i(667294),i(603905));const r={id:"initialization_check_database_consistency_service.CheckDatabaseConsistencyService",title:"Class: CheckDatabaseConsistencyService",sidebar_label:"CheckDatabaseConsistencyService",custom_edit_url:null},s=void 0,l={unversionedId:"login-service-api/classes/initialization_check_database_consistency_service.CheckDatabaseConsistencyService",id:"login-service-api/classes/initialization_check_database_consistency_service.CheckDatabaseConsistencyService",title:"Class: CheckDatabaseConsistencyService",description:"initialization/check-database-consistency.service.CheckDatabaseConsistencyService",source:"@site/docs/login-service-api/classes/initialization_check_database_consistency_service.CheckDatabaseConsistencyService.md",sourceDirName:"login-service-api/classes",slug:"/login-service-api/classes/initialization_check_database_consistency_service.CheckDatabaseConsistencyService",permalink:"/gropius-docs/login-service-api/classes/initialization_check_database_consistency_service.CheckDatabaseConsistencyService",draft:!1,editUrl:null,tags:[],version:"current",frontMatter:{id:"initialization_check_database_consistency_service.CheckDatabaseConsistencyService",title:"Class: CheckDatabaseConsistencyService",sidebar_label:"CheckDatabaseConsistencyService",custom_edit_url:null},sidebar:"apiSidebar",previous:{title:"DefaultReturn",permalink:"/gropius-docs/login-service-api/classes/default_return_dto.DefaultReturn"},next:{title:"CreateDefaultStrategyInstanceService",permalink:"/gropius-docs/login-service-api/classes/initialization_create_default_strategy_instance_service.CreateDefaultStrategyInstanceService"}},c={},o=[{value:"Constructors",id:"constructors",level:2},{value:"constructor",id:"constructor",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Defined in",id:"defined-in",level:4},{value:"Properties",id:"properties",level:2},{value:"activeLoginService",id:"activeloginservice",level:3},{value:"Defined in",id:"defined-in-1",level:4},{value:"backendUserService",id:"backenduserservice",level:3},{value:"Defined in",id:"defined-in-2",level:4},{value:"imsUserFindingService",id:"imsuserfindingservice",level:3},{value:"Defined in",id:"defined-in-3",level:4},{value:"logger",id:"logger",level:3},{value:"Defined in",id:"defined-in-4",level:4},{value:"loginUserService",id:"loginuserservice",level:3},{value:"Defined in",id:"defined-in-5",level:4},{value:"strategyInstanceService",id:"strategyinstanceservice",level:3},{value:"Defined in",id:"defined-in-6",level:4},{value:"strategyService",id:"strategyservice",level:3},{value:"Defined in",id:"defined-in-7",level:4},{value:"userLoginDataImsUserService",id:"userlogindataimsuserservice",level:3},{value:"Defined in",id:"defined-in-8",level:4},{value:"userLoginDataService",id:"userlogindataservice",level:3},{value:"Defined in",id:"defined-in-9",level:4},{value:"Methods",id:"methods",level:2},{value:"checkActiveLogin",id:"checkactivelogin",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns",level:4},{value:"Defined in",id:"defined-in-10",level:4},{value:"checkDatabaseConsistency",id:"checkdatabaseconsistency",level:3},{value:"Returns",id:"returns-1",level:4},{value:"Defined in",id:"defined-in-11",level:4},{value:"checkLoginUser",id:"checkloginuser",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"Returns",id:"returns-2",level:4},{value:"Defined in",id:"defined-in-12",level:4},{value:"checkStrategyInstance",id:"checkstrategyinstance",level:3},{value:"Parameters",id:"parameters-3",level:4},{value:"Returns",id:"returns-3",level:4},{value:"Defined in",id:"defined-in-13",level:4},{value:"checkUserLoginData",id:"checkuserlogindata",level:3},{value:"Parameters",id:"parameters-4",level:4},{value:"Returns",id:"returns-4",level:4},{value:"Defined in",id:"defined-in-14",level:4},{value:"checkUserLoginDataImsUser",id:"checkuserlogindataimsuser",level:3},{value:"Parameters",id:"parameters-5",level:4},{value:"Returns",id:"returns-5",level:4},{value:"Defined in",id:"defined-in-15",level:4},{value:"ensureDatabaseConsistency",id:"ensuredatabaseconsistency",level:3},{value:"Parameters",id:"parameters-6",level:4},{value:"Returns",id:"returns-6",level:4},{value:"Defined in",id:"defined-in-16",level:4},{value:"runDatabaseCheck",id:"rundatabasecheck",level:3},{value:"Returns",id:"returns-7",level:4},{value:"Defined in",id:"defined-in-17",level:4},{value:"testDatabaseForConsistency",id:"testdatabaseforconsistency",level:3},{value:"Parameters",id:"parameters-7",level:4},{value:"Returns",id:"returns-8",level:4},{value:"Defined in",id:"defined-in-18",level:4}],d={toc:o},p="wrapper";function k(e){let{components:t,...i}=e;return(0,n.kt)(p,(0,a.Z)({},d,i,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/modules/initialization_check_database_consistency_service"},"initialization/check-database-consistency.service"),".CheckDatabaseConsistencyService"),(0,n.kt)("h2",{id:"constructors"},"Constructors"),(0,n.kt)("h3",{id:"constructor"},"constructor"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("strong",{parentName:"p"},"new CheckDatabaseConsistencyService"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"activeLoginService"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"loginUserService"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"strategyInstanceService"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"strategyService"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"userLoginDataService"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"userLoginDataImsUserService"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"backendUserService"),", ",(0,n.kt)("inlineCode",{parentName:"p"},"imsUserFindingService"),")"),(0,n.kt)("h4",{id:"parameters"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"activeLoginService")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_services_active_login_service.ActiveLoginService"},(0,n.kt)("inlineCode",{parentName:"a"},"ActiveLoginService")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"loginUserService")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_services_login_user_service.LoginUserService"},(0,n.kt)("inlineCode",{parentName:"a"},"LoginUserService")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"strategyInstanceService")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_services_strategy_instance_service.StrategyInstanceService"},(0,n.kt)("inlineCode",{parentName:"a"},"StrategyInstanceService")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"strategyService")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_services_strategies_service.StrategiesService"},(0,n.kt)("inlineCode",{parentName:"a"},"StrategiesService")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"userLoginDataService")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_services_user_login_data_service.UserLoginDataService"},(0,n.kt)("inlineCode",{parentName:"a"},"UserLoginDataService")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"userLoginDataImsUserService")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/model_services_user_login_data_ims_user.UserLoginDataImsUserService"},(0,n.kt)("inlineCode",{parentName:"a"},"UserLoginDataImsUserService")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"backendUserService")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/backend_services_backend_user_service.BackendUserService"},(0,n.kt)("inlineCode",{parentName:"a"},"BackendUserService")))),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"imsUserFindingService")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("a",{parentName:"td",href:"/gropius-docs/login-service-api/classes/backend_services_ims_user_finding_service.ImsUserFindingService"},(0,n.kt)("inlineCode",{parentName:"a"},"ImsUserFindingService")))))),(0,n.kt)("h4",{id:"defined-in"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L16"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:16")),(0,n.kt)("h2",{id:"properties"},"Properties"),(0,n.kt)("h3",{id:"activeloginservice"},"activeLoginService"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,n.kt)("strong",{parentName:"p"},"activeLoginService"),": ",(0,n.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_services_active_login_service.ActiveLoginService"},(0,n.kt)("inlineCode",{parentName:"a"},"ActiveLoginService"))),(0,n.kt)("h4",{id:"defined-in-1"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L17"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:17")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"backenduserservice"},"backendUserService"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,n.kt)("strong",{parentName:"p"},"backendUserService"),": ",(0,n.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/backend_services_backend_user_service.BackendUserService"},(0,n.kt)("inlineCode",{parentName:"a"},"BackendUserService"))),(0,n.kt)("h4",{id:"defined-in-2"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L23"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:23")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"imsuserfindingservice"},"imsUserFindingService"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,n.kt)("strong",{parentName:"p"},"imsUserFindingService"),": ",(0,n.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/backend_services_ims_user_finding_service.ImsUserFindingService"},(0,n.kt)("inlineCode",{parentName:"a"},"ImsUserFindingService"))),(0,n.kt)("h4",{id:"defined-in-3"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L24"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:24")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"logger"},"logger"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,n.kt)("strong",{parentName:"p"},"logger"),": ",(0,n.kt)("inlineCode",{parentName:"p"},"Logger")),(0,n.kt)("h4",{id:"defined-in-4"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L15"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:15")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"loginuserservice"},"loginUserService"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,n.kt)("strong",{parentName:"p"},"loginUserService"),": ",(0,n.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_services_login_user_service.LoginUserService"},(0,n.kt)("inlineCode",{parentName:"a"},"LoginUserService"))),(0,n.kt)("h4",{id:"defined-in-5"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L18"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:18")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"strategyinstanceservice"},"strategyInstanceService"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,n.kt)("strong",{parentName:"p"},"strategyInstanceService"),": ",(0,n.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_services_strategy_instance_service.StrategyInstanceService"},(0,n.kt)("inlineCode",{parentName:"a"},"StrategyInstanceService"))),(0,n.kt)("h4",{id:"defined-in-6"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L19"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:19")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"strategyservice"},"strategyService"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,n.kt)("strong",{parentName:"p"},"strategyService"),": ",(0,n.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_services_strategies_service.StrategiesService"},(0,n.kt)("inlineCode",{parentName:"a"},"StrategiesService"))),(0,n.kt)("h4",{id:"defined-in-7"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L20"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:20")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"userlogindataimsuserservice"},"userLoginDataImsUserService"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,n.kt)("strong",{parentName:"p"},"userLoginDataImsUserService"),": ",(0,n.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_services_user_login_data_ims_user.UserLoginDataImsUserService"},(0,n.kt)("inlineCode",{parentName:"a"},"UserLoginDataImsUserService"))),(0,n.kt)("h4",{id:"defined-in-8"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L22"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:22")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"userlogindataservice"},"userLoginDataService"),(0,n.kt)("p",null,"\u2022 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("inlineCode",{parentName:"p"},"Readonly")," ",(0,n.kt)("strong",{parentName:"p"},"userLoginDataService"),": ",(0,n.kt)("a",{parentName:"p",href:"/gropius-docs/login-service-api/classes/model_services_user_login_data_service.UserLoginDataService"},(0,n.kt)("inlineCode",{parentName:"a"},"UserLoginDataService"))),(0,n.kt)("h4",{id:"defined-in-9"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L21"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:21")),(0,n.kt)("h2",{id:"methods"},"Methods"),(0,n.kt)("h3",{id:"checkactivelogin"},"checkActiveLogin"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("strong",{parentName:"p"},"checkActiveLogin"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"fixBroken"),"): ",(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,n.kt)("p",null,"Checks all active logins in the database for consistency."),(0,n.kt)("p",null,"Currently no inconsistent state is possible."),(0,n.kt)("p",null,"A warning is produced, if any active logins without login data are found.\nThis is allowed, but should not happen in normal operation"),(0,n.kt)("h4",{id:"parameters-1"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"fixBroken")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"boolean"))))),(0,n.kt)("h4",{id:"returns"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,n.kt)("h4",{id:"defined-in-10"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L35"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:35")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"checkdatabaseconsistency"},"checkDatabaseConsistency"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("strong",{parentName:"p"},"checkDatabaseConsistency"),"(): ",(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"boolean"),">"),(0,n.kt)("h4",{id:"returns-1"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"boolean"),">"),(0,n.kt)("h4",{id:"defined-in-11"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L191"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:191")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"checkloginuser"},"checkLoginUser"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("strong",{parentName:"p"},"checkLoginUser"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"fixBroken"),"): ",(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,n.kt)("p",null,"Checks all login users in the database and the backend for consistency."),(0,n.kt)("p",null,"A login user in the database is inconsistent if"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"It has no neo4j id (NOT FIXABLE)"),(0,n.kt)("li",{parentName:"ul"},"It doesn't exist in the backend (NOT FIXABLE)")),(0,n.kt)("h4",{id:"parameters-2"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"fixBroken")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"boolean"))))),(0,n.kt)("h4",{id:"returns-2"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,n.kt)("h4",{id:"defined-in-12"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L54"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:54")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"checkstrategyinstance"},"checkStrategyInstance"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("strong",{parentName:"p"},"checkStrategyInstance"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"fixBroken"),"): ",(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,n.kt)("p",null,"Checks if all strategy instances are consistent"),(0,n.kt)("p",null,"A strategy instance is considered inconsistent when:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"It has a type of a strategy that is unknown (NOT FIXABLE)")),(0,n.kt)("h4",{id:"parameters-3"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"fixBroken")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"boolean"))))),(0,n.kt)("h4",{id:"returns-3"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,n.kt)("h4",{id:"defined-in-13"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L104"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:104")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"checkuserlogindata"},"checkUserLoginData"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("strong",{parentName:"p"},"checkUserLoginData"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"fixBroken"),"): ",(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,n.kt)("p",null,"Checks if all UserLoginData elements in the database are consistent"),(0,n.kt)("p",null,"A UserLoginData is considered inconsistent when:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"It is set to state VALID but has no user assigned (NOT FIXABLE)"),(0,n.kt)("li",{parentName:"ul"},"It is set to state WAITING_FOR_REGISTER but has a user assigned (NOT FIXABLE)")),(0,n.kt)("h4",{id:"parameters-4"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"fixBroken")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"boolean"))))),(0,n.kt)("h4",{id:"returns-4"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,n.kt)("h4",{id:"defined-in-14"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L122"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:122")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"checkuserlogindataimsuser"},"checkUserLoginDataImsUser"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("strong",{parentName:"p"},"checkUserLoginDataImsUser"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"fixBroken"),"): ",(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,n.kt)("p",null,"Checks if all UserLoginDataImsUser elements in the database are consistent"),(0,n.kt)("p",null,"A UserLoginDataImsUser is considered inconsistent when:"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"The IMSUser referenced by its neo4j ID doesn't exist in the backend (NOT FIXABLE)")),(0,n.kt)("h4",{id:"parameters-5"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"fixBroken")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"boolean"))))),(0,n.kt)("h4",{id:"returns-5"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,n.kt)("h4",{id:"defined-in-15"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L146"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:146")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"ensuredatabaseconsistency"},"ensureDatabaseConsistency"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("strong",{parentName:"p"},"ensureDatabaseConsistency"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"fixBrokenConsistency?"),"): ",(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,n.kt)("h4",{id:"parameters-6"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"fixBrokenConsistency")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"boolean"))))),(0,n.kt)("h4",{id:"returns-6"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,n.kt)("h4",{id:"defined-in-16"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L195"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:195")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"rundatabasecheck"},"runDatabaseCheck"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("strong",{parentName:"p"},"runDatabaseCheck"),"(): ",(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,n.kt)("h4",{id:"returns-7"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"void"),">"),(0,n.kt)("h4",{id:"defined-in-17"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L204"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:204")),(0,n.kt)("hr",null),(0,n.kt)("h3",{id:"testdatabaseforconsistency"},"testDatabaseForConsistency"),(0,n.kt)("p",null,"\u25b8 ",(0,n.kt)("inlineCode",{parentName:"p"},"Private")," ",(0,n.kt)("strong",{parentName:"p"},"testDatabaseForConsistency"),"(",(0,n.kt)("inlineCode",{parentName:"p"},"fixBroken"),"): ",(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,n.kt)("h4",{id:"parameters-7"},"Parameters"),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,n.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"fixBroken")),(0,n.kt)("td",{parentName:"tr",align:"left"},(0,n.kt)("inlineCode",{parentName:"td"},"boolean"))))),(0,n.kt)("h4",{id:"returns-8"},"Returns"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"Promise"),"<",(0,n.kt)("inlineCode",{parentName:"p"},"string"),">"),(0,n.kt)("h4",{id:"defined-in-18"},"Defined in"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://github.com/ccims/gropius-login-service/blob/9da669b/backend/src/initialization/check-database-consistency.service.ts#L162"},"gropius-login-service/backend/src/initialization/check-database-consistency.service.ts:162")))}k.isMDXComponent=!0}}]);